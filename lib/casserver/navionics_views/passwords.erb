<%# coding: UTF-8 -%>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="authenticity_token" name="csrf-param" />
    <title>NavionicsWebApi v2</title>
    <link rel="stylesheet" href="//webapiv2.navionics.com/dist/webapi/webapi.min.css">
    <script type="text/javascript" src="//webapiv2.navionics.com/dist/webapi/webapi.min.no-dep.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <style type="text/css">
    html, body,{
        margin: 0;
    }
    .test_map_div {
        width: 700px;
        height: 700px;
        border: 1px solid #000000;
    }
    </style>
</head>
<body data-root="//webapiv2.navionics.com/dist/webapi/images"> 
    <% if @message %>
    <div class="messagebox <%= escape_html @message[:type] %>">
        <%= escape_html @message[:message] %>
    </div>
    <% end %>
    <div class="login-form">
        <form method="post" action="<%= @form_action || "passwords" %>" id="reset-pwd-form">
            <div class="form-title"><%= t.label.new_password %></div>

            <div class="form-inputs-block">
                <div class="form-input-line"><input class="form-input" type="password" name="password" placeholder="New password"/></div>
                <div class="reg-hide-pass"><label><input type="checkbox" onclick="showPassword('txtPassword','Password');"/> <%= t.label.hide_password %></label></div>
            </div>

            <input type="hidden" id="lt" name="lt" value="<%= escape_html @lt %>"/>
            <input type="hidden" id="service" name="service" value="<%= escape_html @service %>"/>

            <div class="form-button-block"><button type="submit" class="form-button button-secondary-style"><%= t.button.login %></button></div>
        </form>
    </div>

    <script>
    function showPassword() {
        var pwd = document.getElementById("password");
        if (pwd.type == "password")
            pwd.setAttribute('type', 'text');
        else
            pwd.setAttribute('type', 'password');
    }
    </script>
    <div id="site-header"></div>
    <div id="site-footer"></div>
    <script type="text/javascript">
    (function () {
        headerObject = new JNC.Views.Header({
        });

        footer = new JNC.Views.Footer({
            url: '//www-beta.navionics.com/sites/all/components/footer.php',
            targetTagId: 'site-footer'
        });
        headerObject.render();
        footer.render();
        JNC.$('#responce').html("Language of header: " + headerObject.getCurrentLang() + " - Language of footer: " + footer.getCurrentLang());
    })();
    </script>
</body>
</html>